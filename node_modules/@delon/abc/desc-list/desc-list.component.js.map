{"version":3,"file":"desc-list.component.js","sourceRoot":"","sources":["../../../.ng_build/abc/desc-list/desc-list.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, ViewEncapsulation, ElementRef, Renderer2, OnChanges, SimpleChanges, OnInit, ContentChild, TemplateRef, ContentChildren, QueryList, SimpleChange } from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { DescListItemComponent } from './desc-list-item.component';\r\n\r\n@Component({\r\n    selector: 'desc-list',\r\n    template: `\r\n    <div *ngIf=\"_title || _titleTpl\" class=\"title\">\r\n        <ng-container *ngIf=\"_title; else _titleTpl\">{{_title}}</ng-container>\r\n    </div>\r\n    <div nz-row [nzGutter]=\"gutter\">\r\n        <div nz-col [nzXs]=\"_xs\" [nzSm]=\"_sm\" [nzMd]=\"_md\" *ngFor=\"let i of _items\">\r\n            <ng-template [ngTemplateOutlet]=\"i.tpl\"></ng-template>\r\n        </div>\r\n    </div>\r\n    `,\r\n    styleUrls: [ './desc-list.css' ]\r\n})\r\nexport class DescListComponent implements OnChanges, OnInit {\r\n\r\n    // region fields\r\n\r\n    _title = '';\r\n    _titleTpl: TemplateRef<any>;\r\n    @Input()\r\n    set title(value: string | TemplateRef<any>) {\r\n        if (value instanceof TemplateRef)\r\n            this._titleTpl = value;\r\n        else\r\n            this._title = value;\r\n    }\r\n\r\n    @Input() size: 'small' | 'large';\r\n\r\n    /** 列表项间距，单位为 `px` */\r\n    @Input()\r\n    get gutter() { return this._gutter; }\r\n    set gutter(value: any) {\r\n        this._gutter = coerceNumberProperty(value);\r\n    }\r\n    private _gutter = 32;\r\n\r\n    @Input() layout: 'horizontal' | 'vertical' = 'horizontal';\r\n\r\n    _xs = 24;\r\n    _sm = 12;\r\n    _md = 8;\r\n    /** 指定信息最多分几列展示，最终一行几列由 col 配置结合响应式规则决定 */\r\n    @Input()\r\n    get col() { return this._col; }\r\n    set col(value: any) {\r\n        this._col = coerceNumberProperty(value);\r\n    }\r\n    private _col = 3;\r\n\r\n    _classMap: string[] = [];\r\n    setClass() {\r\n        this._classMap.forEach(cls => this.renderer.removeClass(this.el.nativeElement, cls));\r\n\r\n        this._classMap = [ 'desc-list', this.layout ];\r\n        if (this.size) this._classMap.push('desc-list-' + this.size);\r\n\r\n        this._classMap.forEach(cls => this.renderer.addClass(this.el.nativeElement, cls));\r\n    }\r\n\r\n    setResponsive() {\r\n        const responsive = ({\r\n            1: { xs: 24 },\r\n            2: { xs: 24, sm: 12 },\r\n            3: { xs: 24, sm: 12, md: 8 },\r\n            4: { xs: 24, sm: 12, md: 6 },\r\n        })[this.col > 4 ? 4 : this.col];\r\n\r\n        this._xs = responsive.xs;\r\n        this._sm = responsive.sm;\r\n        this._md = responsive.md;\r\n    }\r\n\r\n    @ContentChildren(DescListItemComponent) _items: QueryList<DescListItemComponent>;\r\n\r\n    // endregion\r\n\r\n    constructor(private el: ElementRef, private renderer: Renderer2) {}\r\n\r\n    ngOnInit() {\r\n        this.setClass();\r\n    }\r\n\r\n    ngOnChanges(changes: { [P in keyof this]?: SimpleChange } & SimpleChanges): void {\r\n        if (changes.size && !changes.size.firstChange)\r\n            this.setClass();\r\n        if (changes.col)\r\n            this.setResponsive();\r\n    }\r\n}\r\n"]}