{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../.ng_build/abc/utils/utils.ts"],"names":[],"mappings":"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","sourcesContent":["import * as moment from 'moment';\r\n\r\n/**\r\n * 转化成RMB元字符串\r\n */\r\nexport function yuan(value: any): string {\r\n    return `&yen ${value}`;\r\n}\r\n\r\n/**\r\n * 不满两位数自动填充 `0`\r\n * @param val 数值\r\n */\r\nexport function fixedZero(val) {\r\n    return val * 1 < 10 ? `0${val}` : val;\r\n}\r\n\r\n/**\r\n * 获取时间范围\r\n * @param type 类型\r\n * @param time 开始时间\r\n */\r\nexport function getTimeDistance(type: 'today' | 'week' | 'month' | 'year', time: Date = new Date()) {\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n\r\n    if (type === 'today') {\r\n        time.setHours(0);\r\n        time.setMinutes(0);\r\n        time.setSeconds(0);\r\n        return [moment(time), moment(time.getTime() + (oneDay - 1000))];\r\n    }\r\n\r\n    if (type === 'week') {\r\n        let day = time.getDay();\r\n        time.setHours(0);\r\n        time.setMinutes(0);\r\n        time.setSeconds(0);\r\n\r\n        if (day === 0) {\r\n            day = 6;\r\n        } else {\r\n            day -= 1;\r\n        }\r\n\r\n        const beginTime = time.getTime() - day * oneDay;\r\n\r\n        return [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))];\r\n    }\r\n\r\n    if (type === 'month') {\r\n        const year = time.getFullYear();\r\n        const month = time.getMonth();\r\n        const nextDate = moment(time).add(1, 'months');\r\n        const nextYear = nextDate.year();\r\n        const nextMonth = nextDate.month();\r\n\r\n        return [\r\n            moment(`${year}-${fixedZero(month + 1)}-01 00:00:00`),\r\n            moment(\r\n                moment(\r\n                    `${nextYear}-${fixedZero(nextMonth + 1)}-01 00:00:00`\r\n                ).valueOf() - 1000\r\n            )\r\n        ];\r\n    }\r\n\r\n    if (type === 'year') {\r\n        const year = time.getFullYear();\r\n\r\n        return [\r\n            moment(`${year}-01-01 00:00:00`),\r\n            moment(`${year}-12-31 23:59:59`)\r\n        ];\r\n    }\r\n}\r\n\r\n/**\r\n * 类似 `_.get`，根据 `path` 获取安全值\r\n * jsperf: https://jsperf.com/es-deep-get\r\n */\r\nexport function deepGet(obj: any, path: string[], defaultValue: any) {\r\n    if (!obj) return defaultValue;\r\n    if (path.length <= 1) {\r\n        const checkObj = path.length ? obj[path[0]] : obj;\r\n        return typeof checkObj === 'undefined' ? defaultValue : checkObj;\r\n    }\r\n    return path.reduce((o, k) => (o || {})[k], obj) || defaultValue;\r\n}\r\n"]}